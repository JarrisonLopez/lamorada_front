<header class="site-header">
  <nav class="nav" aria-label="Principal">
    <!-- Marca -->
    <a routerLink="/home" class="brand" aria-label="Ir al inicio">
      <img
        src="assets/lamorada-logo.png"
        alt="LaMorada"
        class="brand-logo"
        width="28"
        height="28"
        decoding="async"
      />
      <span class="brand-name">La<span class="accent">Morada</span></span>
    </a>

    <!-- Navegación pública -->
    <a routerLink="/product" routerLinkActive="active">Productos</a>
    <a routerLink="/podcast" routerLinkActive="active">Podcasts</a>
    <a routerLink="/post" routerLinkActive="active">Posts</a>
    <a routerLink="/profile" routerLinkActive="active">Psicólogos</a>

    <!-- Solo logueados -->
    <ng-container *ngIf="isLogged; else guest">
      <a routerLink="/cart" routerLinkActive="active">Carrito</a>
      <a routerLink="/appointment" routerLinkActive="active">Citas</a>
      <a routerLink="/profile/edit" routerLinkActive="active">Editar perfil</a>

      <!-- Para psicólogo -->
      <ng-container *ngIf="role === 'psychologist'">
        <a routerLink="/availability/manage" routerLinkActive="active">Disponibilidad</a>
        <a routerLink="/post/manage" routerLinkActive="active">Posts (gestión)</a>
      </ng-container>

      <span class="spacer"></span>

      <span class="who" title="Sesión">
        <span class="who-dot" aria-hidden="true"></span>
        {{ name || role || 'Usuario' }}
      </span>

      <button type="button" class="btn-ghost" (click)="onLogout()">Salir</button>
    </ng-container>

    <!-- Invitado -->
    <ng-template #guest>
      <span class="spacer"></span>
      <a routerLink="/sign-in" routerLinkActive="active">Entrar</a>
      <a routerLink="/sign-up" class="btn-primary">Crear cuenta</a>
    </ng-template>
  </nav>
</header>
