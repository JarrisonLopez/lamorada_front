<section class="box" *ngIf="!loading; else load">
  <h2>Gestionar disponibilidad</h2>

  <div class="days">
    <button type="button"
            *ngFor="let d of weekdays"
            (click)="toggleDay(d)"
            [class.active]="form.controls.days.value.includes(d)">
      {{ dayLabel(d) | titlecase }}
    </button>
  </div>

  <div class="row">
    <label>Desde
      <input type="time" [formControl]="form.controls.start">
    </label>
    <label>Hasta
      <input type="time" [formControl]="form.controls.end">
    </label>
    <button type="button" (click)="addSlot()">Añadir intervalo</button>
  </div>

  <h3>Intervalos</h3>
  <ul class="slots">
    <li *ngFor="let s of slots; let i = index">
      {{ s.start }} – {{ s.end }}
      <button type="button" (click)="removeSlot(i)">x</button>
    </li>
  </ul>

  <div class="actions">
    <button type="button" (click)="save()" [disabled]="saving">Guardar</button>
    <button type="button" class="danger" (click)="deleteAll()">Eliminar disponibilidad</button>
  </div>
</section>

<ng-template #load>
  <div class="box">Cargando…</div>
</ng-template>
