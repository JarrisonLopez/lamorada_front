<h2>Publicaciones</h2>

<div *ngIf="loading">Cargando publicaciones…</div>
<p *ngIf="err" class="err">{{ err }}</p>

<section *ngIf="!loading && posts.length">
  <article class="post" *ngFor="let p of posts">
    <h3>{{ p.title }}</h3>
    <p class="meta">
      <span *ngIf="authorName(p)">por {{ authorName(p) }}</span>
      <span *ngIf="p.created_at"> • {{ p.created_at | date : 'medium' }}</span>
      <span *ngIf="p.active === false" class="inactive"> • inactiva</span>
    </p>
    <p class="content">{{ p.content }}</p>
  </article>
</section>

<div *ngIf="!loading && !posts.length">No hay publicaciones.</div>

<style>
  .err { color: #c00; margin: 8px 0; }
  .post { padding: 12px; border: 1px solid #e5e7eb; border-radius: 10px; margin: 10px 0; background: #fff; }
  .post h3 { margin: 0 0 6px; }
  .meta { color: #6b7280; font-size: 12px; margin: 0 0 6px; }
  .inactive { color: #b91c1c; }
  .content { white-space: pre-line; }
</style>
